<?xml version="1.0" encoding="UTF-8"?>
<!--
  - Created by Anshika Tyagi, Anubhav Nanda and Het Veera on 2021.12.8
  - Copyright Â© 2021 Anshika Tyagi, Anubhav Nanda and Het Veera. All rights reserved.
  -
  -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <!--
    *********************************************
    * Header Component of Template siteTemplate *
    *********************************************
    This page's content is displayed on the top of each page created based on the siteTemplate.
    Changes made in this file will show up automatically with all pages created based on the
    siteTemplate for the entire site, achieving great maintainability.
    -->
    <ui:composition>
        <h:form>
            <table border="0" cellspacing="0" cellpadding="10" width="100%">
                <tr>
                    <!--
                    *************************************
                    Column 1 (Left):  Hamburger Menu Button
                    *************************************
                    -->
                    <td align="left" valign="middle" style="width:100px;">
                        <div style="padding-right:10px">

                            <p:commandButton id="dynaButton" type="button" icon="pi pi-list" background-color="Transparent" />
                            <p:menu overlay="true" trigger="dynaButton" my="left top" at="left bottom" style="white-space: nowrap;">
                                <p:menuitem value="Home" outcome="/index" icon="fas fa-home"/>
                                <p:menuitem value="Improve Focus" outcome="/Items/Focus" icon="fas fa-bullseye"/>
                                <p:menuitem value="Experience Mindfulness" outcome="/Items/Mindfulness" icon="fas fa-sun"/>
                                <p:menuitem value="Shop" outcome="/shop/Shop" icon="fas fa-shopping-cart"/>
                                <p:menuitem value="Public Blogs" outcome="/blog/List" icon="far fa-comment-dots"/>
                                <!-- Menu Options IF a User is Signed In -->
                                <c:if test="#{userController.isLoggedIn() == true}">
                                    <p:menuitem value="Spill Your Thoughts" action="#{blogController.prepareCreate}" icon="fas fa-pen"/>
                                    <p:menuitem value="Show Up At" outcome="/map/ShowUpAt" icon="fas fa-map-marker-alt"/>
                                    <p:menuitem outcome="/userAccount/Profile">
                                        <p:graphicImage cache="false" styleClass="smallProfilePhoto" value="#{userController.userPhoto()}" />
                                        &nbsp;My Account
                                    </p:menuitem>
                                    <p:menuitem value="Sign Out" action="#{userController.logout()}" icon="fas fa-sign-out-alt" />
                                </c:if>

                                <!-- Menu Options IF No User is Signed In -->
                                <c:if test="#{userController.isLoggedIn() == false}">
                                    <p:menuitem value="Sign In" outcome="/SignIn" icon="fas fa-sign-in-alt" />
                                    <p:menuitem value="Create Account" outcome="/userAccount/CreateAccount" icon="fas fa-user-plus" />
                                </c:if>
                                <p:menuitem value="About Us" outcome="/Items/About" icon="fas fa-info"/>
                            </p:menu>
                        </div>
                    </td>
                    <!--
                    ***************************
                    Column 2 (Center): App Name
                    ***************************
                    -->
                    <td align="center" valign="middle">
                        <span class="headerTitle">A Calming Influence</span>
                    </td>
                    <!--
                    ***************************************
                    Column 3 (Right): Calmify Logo Image
                    ***************************************
                    -->

                    <td align="left" valign="middle" style="width:131px">
                        <!--
                        Use EL to reference the image file since it will be accessed from all UI pages.
                        Column width = Logo Image Width
                        -->
                        <h:link outcome="/index">
                            <img src="#{resource['images:logo.png']}"
                                 style="height:64px; width:auto; float:left; padding-left:10px; border:none;"
                                 alt="calmify" />
                        </h:link>
                    </td>
                </tr>
            </table>

        </h:form>

    </ui:composition>
</html>
